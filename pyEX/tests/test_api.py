# *****************************************************************************
#
# Copyright (c) 2021, the pyEX authors.
#
# This file is part of the pyEX library, distributed under the terms of
# the Apache License 2.0.  The full license can be found in the LICENSE file.
#

import pyEX as p

_PREEXISTING = [
    "Enum",
    "__builtins__",
    "__cached__",
    "__doc__",
    "__file__",
    "__loader__",
    "__name__",
    "__package__",
    "__path__",
    "__spec__",
    "__version__",
    "_version",
    "alternative",
    "auditanalytics",
    "brain",
    "cityfalcon",
    "client",
    "commodities",
    "common",
    "cryptocurrency",
    "deprecated",
    "economic",
    "events",
    "extractalpha",
    "financialsAsReported",
    "iex",
    "invisage",
    "ipo",
    "isin",
    "json_normalize",
    "kavout",
    "mortgage",
    "os",
    "partial",
    "pd",
    "peercorrelation",
    "rates",
    "refdata",
    "refinitiv",
    "ric",
    "stocks",
    "stocktwits",
    "streaming",
    "studies",
    "tests",
    "treasuries",
    "types",
    "utils",
    "warnings",
    "yieldcurve",
]


class TestPyEXAPI:
    def test_all(self):
        all = set(dir(p))
        found = set(_PREEXISTING)

        for item in (
            "Client",
            "CommoditiesPoints",
            "CryptoSSE",
            "DEFAULT_API_LIMIT",
            "DeepChannels",
            "DeepChannelsSSE",
            "EconomicPoints",
            "FXSSE",
            "MortgagePoints",
            "PyEXStopSSE",
            "PyEXception",
            "RatesPoints",
            "StockSSE",
            "TreasuriesPoints",
        ):
            assert hasattr(p, item)
            found.add(item)

        for apimethod in (
            "account",
            "accountingQualityAndRiskMatrixAuditAnalytics",
            "accountingQualityAndRiskMatrixAuditAnalyticsDF",
            "acos",
            "ad",
            "add",
            "adosc",
            "advancedStats",
            "advancedStatsDF",
            "adx",
            "adxr",
            "analystDaysWallStreetHorizon",
            "analystDaysWallStreetHorizonDF",
            "analystRecommendations",
            "analystRecommendationsDF",
            "analystRecommendationsAndPriceTargetsInvisage",
            "analystRecommendationsAndPriceTargetsInvisageDF",
            "analystRecommendationsRefinitiv",
            "analystRecommendationsRefinitivDF",
            "apo",
            "aroon",
            "aroonosc",
            "asin",
            "atan",
            "atr",
            "auctionWS",
            "avgprice",
            "balanceSheet",
            "balanceSheetDF",
            "batch",
            "batchDF",
            "beta",
            "boardOfDirectorsMeetingWallStreetHorizon",
            "boardOfDirectorsMeetingWallStreetHorizonDF",
            "bollinger",
            "bonusIssue",
            "bonusIssueDF",
            "book",
            "bookDF",
            "bookWS",
            "bop",
            "brent",
            "brentDF",
            "businessUpdatesWallStreetHorizon",
            "businessUpdatesWallStreetHorizonDF",
            "buybacksWallStreetHorizon",
            "buybacksWallStreetHorizonDF",
            "calendar",
            "calendarDF",
            "cam1ExtractAlpha",
            "cam1ExtractAlphaDF",
            "capitalMarketsDayWallStreetHorizon",
            "capitalMarketsDayWallStreetHorizonDF",
            "cashFlow",
            "cashFlowDF",
            "cci",
            "cdj",
            "cdjDF",
            "cdl2crows",
            "cdl3blackcrows",
            "cdl3inside",
            "cdl3linestrike",
            "cdl3outside",
            "cdl3starsinsouth",
            "cdl3whitesoldiers",
            "cdlabandonedbaby",
            "cdladvanceblock",
            "cdlbelthold",
            "cdlbreakaway",
            "cdlclosingmarubozu",
            "cdlconcealbabyswallow",
            "cdlcounterattack",
            "cdldarkcloudcover",
            "cdldoji",
            "cdldojistar",
            "cdldragonflydoji",
            "cdlengulfing",
            "cdleveningdojistar",
            "cdleveningstar",
            "cdlgapsidesidewhite",
            "cdlgravestonedoji",
            "cdlhammer",
            "cdlhangingman",
            "cdlharami",
            "cdlharamicross",
            "cdlhighwave",
            "cdlhikkake",
            "cdlhikkakemod",
            "cdlhomingpigeon",
            "cdlidentical3crows",
            "cdlinneck",
            "cdlinvertedhammer",
            "cdlkicking",
            "cdlkickingbylength",
            "cdlladderbottom",
            "cdllongleggeddoji",
            "cdllongline",
            "cdlmarubozu",
            "cdlmatchinglow",
            "cdlmathold",
            "cdlmorningdojistar",
            "cdlmorningstar",
            "cdlonneck",
            "cdlpiercing",
            "cdlrickshawman",
            "cdlrisefall3methods",
            "cdlseparatinglines",
            "cdlshootingstar",
            "cdlshortline",
            "cdlspinningtop",
            "cdlstalledpattern",
            "cdlsticksandwich",
            "cdltakuri",
            "cdltasukigap",
            "cdlthrusting",
            "cdltristar",
            "cdlunique3river",
            "cdlxsidegap3methods",
            "cdnj",
            "cdnjDF",
            "ceil",
            "ceoCompensation",
            "ceoCompensationDF",
            "chart",
            "chartDF",
            "cmo",
            "collections",
            "collectionsDF",
            "company",
            "companyDF",
            "companyTravelWallStreetHorizon",
            "companyTravelWallStreetHorizonDF",
            "convertFX",
            "convertFXDF",
            "corporateActions",
            "corporateActionsDF",
            "correl",
            "cos",
            "cosh",
            "cpi",
            "cpiDF",
            "create",
            "creditcard",
            "creditcard",
            "creditcardDF",
            "cryptoBook",
            "cryptoBookDF",
            "cryptoBookSSE",
            "cryptoBookSSEAsync",
            "cryptoEventsSSE",
            "cryptoEventsSSEAsync",
            "cryptoPrice",
            "cryptoPriceDF",
            "cryptoQuote",
            "cryptoQuoteDF",
            "cryptoQuotesSSE",
            "cryptoQuotesSSEAsync",
            "cryptoSymbols",
            "cryptoSymbolsDF",
            "cryptoSymbolsList",
            "daily",
            "dailyDF",
            "dailyReturns",
            "deepWS",
            "delayedQuote",
            "delayedQuoteDF",
            "delete",
            "dema",
            "diesel",
            "dieselDF",
            "directorAndOfficerChangesAuditAnalytics",
            "directorAndOfficerChangesAuditAnalyticsDF",
            "directory",
            "directoryDF",
            "distribution",
            "distributionDF",
            "div",
            "dividends",
            "dividendsBasic",
            "dividendsBasicDF",
            "dividendsDF",
            "dividendsForecast",
            "dividendsForecastDF",
            "download",
            "downloadReportNewConstructs",
            "downloadStockResearchReportValuEngine",
            "dx",
            "earnings",
            "earningsDF",
            "earningsRefinitiv",
            "earningsRefinitivDF",
            "earningsToday",
            "earningsTodayDF",
            "ema",
            "esgCFPBComplaintsExtractAlpha",
            "esgCFPBComplaintsExtractAlphaDF",
            "esgCPSCRecallsExtractAlpha",
            "esgCPSCRecallsExtractAlphaDF",
            "esgDOLVisaApplicationsExtractAlpha",
            "esgDOLVisaApplicationsExtractAlphaDF",
            "esgEPAEnforcementsExtractAlpha",
            "esgEPAEnforcementsExtractAlphaDF",
            "esgEPAMilestonesExtractAlpha",
            "esgEPAMilestonesExtractAlphaDF",
            "esgFECIndividualCampaingContributionsExtractAlpha",
            "esgFECIndividualCampaingContributionsExtractAlphaDF",
            "esgOSHAInspectionsExtractAlpha",
            "esgOSHAInspectionsExtractAlphaDF",
            "esgSenateLobbyingExtractAlpha",
            "esgSenateLobbyingExtractAlphaDF",
            "esgUSASpendingExtractAlpha",
            "esgUSASpendingExtractAlphaDF",
            "esgUSPTOPatentApplicationsExtractAlpha",
            "esgUSPTOPatentApplicationsExtractAlphaDF",
            "esgUSPTOPatentGrantsExtractAlpha",
            "esgUSPTOPatentGrantsExtractAlphaDF",
            "estimates",
            "estimatesDF",
            "estimatesRefinitiv",
            "estimatesRefinitivDF",
            "exchanges",
            "exchangesDF",
            "exp",
            "fdaAdvisoryCommitteeMeetingsWallStreetHorizon",
            "fdaAdvisoryCommitteeMeetingsWallStreetHorizonDF",
            "fedfunds",
            "fedfundsDF",
            "figi",
            "figiDF",
            "files",
            "filingDueDatesWallStreetHorizon",
            "filingDueDatesWallStreetHorizonDF",
            "financials",
            "financialsDF",
            "fiscalQuarterEndWallStreetHorizon",
            "fiscalQuarterEndWallStreetHorizonDF",
            "fiveDayMLReturnRankingBrain",
            "fiveDayMLReturnRankingBrainDF",
            "fiveYear",
            "fiveYear",
            "fiveYearDF",
            "floor",
            "forex1MinuteSSE",
            "forex1MinuteSSEAsync",
            "forex1SecondSSE",
            "forex1SecondSSEAsync",
            "forex5SecondSSE",
            "forex5SecondSSEAsync",
            "fortyF",
            "forumWallStreetHorizon",
            "forumWallStreetHorizonDF",
            "fraudfactors",
            "fundOwnership",
            "fundOwnershipDF",
            "fundamentals",
            "fundamentalsDF",
            "fundamentalValuations",
            "fundamentalValuationsDF",
            "futuresSymbols",
            "futuresSymbolsDF",
            "futuresSymbolsList",
            "futures",
            "futuresDF",
            "fx",
            "fxSSE",
            "fxSSEAsync",
            "fxSymbols",
            "fxSymbolsDF",
            "fxSymbolsList",
            "gasmid",
            "gasmidDF",
            "gasprm",
            "gasprmDF",
            "gasreg",
            "gasregDF",
            "gdp",
            "gdpDF",
            "generalConferenceWallStreetHorizon",
            "generalConferenceWallStreetHorizonDF",
            "heatoil",
            "heatoilDF",
            "historicalFX",
            "historicalFXDF",
            "holidays",
            "holidaysDF",
            "holidaysWallStreetHorizon",
            "holidaysWallStreetHorizonDF",
            "housing",
            "housingDF",
            "ht_dcperiod",
            "ht_dcphase",
            "ht_phasor",
            "ht_sine",
            "ht_trendline",
            "ht_trendmode",
            "iexAuction",
            "iexAuctionAsync",
            "iexAuctionDF",
            "iexAuctionSSE",
            "iexAuctionSSEAsync",
            "iexBook",
            "iexBookAsync",
            "iexBookDF",
            "iexBookSSE",
            "iexBookSSEAsync",
            "iexDeep",
            "iexDeepAsync",
            "iexDeepDF",
            "iexDeepSSE",
            "iexDeepSSEAsync",
            "iexHist",
            "iexHistAsync",
            "iexHistDF",
            "iexLast",
            "iexLastAsync",
            "iexLastDF",
            "iexLastSSE",
            "iexLastSSEAsync",
            "iexOfficialPrice",
            "iexOfficialPriceAsync",
            "iexOfficialPriceDF",
            "iexOfficialPriceSSE",
            "iexOfficialPriceSSEAsync",
            "iexOpHaltStatus",
            "iexOpHaltStatusAsync",
            "iexOpHaltStatusDF",
            "iexOpHaltStatusSSE",
            "iexOpHaltStatusSSEAsync",
            "iexSecurityEvent",
            "iexSecurityEventAsync",
            "iexSecurityEventDF",
            "iexSecurityEventSSE",
            "iexSecurityEventSSEAsync",
            "iexSsrStatus",
            "iexSsrStatusAsync",
            "iexSsrStatusDF",
            "iexSsrStatusSSE",
            "iexSsrStatusSSEAsync",
            "iexSymbols",
            "iexSymbolsDF",
            "iexSymbolsList",
            "iexSystemEvent",
            "iexSystemEventAsync",
            "iexSystemEventDF",
            "iexSystemEventSSE",
            "iexSystemEventSSEAsync",
            "iexThreshold",
            "iexThresholdDF",
            "iexTops",
            "iexTopsAsync",
            "iexTopsDF",
            "iexTopsSSE",
            "iexTopsSSEAsync",
            "iexTradeBreak",
            "iexTradeBreakAsync",
            "iexTradeBreakDF",
            "iexTradeBreaksSSE",
            "iexTradeBreaksSSEAsync",
            "iexTrades",
            "iexTradesAsync",
            "iexTradesDF",
            "iexTradesSSE",
            "iexTradesSSEAsync",
            "iexTradingStatus",
            "iexTradingStatusAsync",
            "iexTradingStatusDF",
            "iexTradingStatusSSE",
            "iexTradingStatusSSEAsync",
            "incomeStatement",
            "incomeStatementDF",
            "indexChangesWallStreetHorizon",
            "indexChangesWallStreetHorizonDF",
            "indpro",
            "indproDF",
            "initialClaims",
            "initialClaims",
            "initialClaimsDF",
            "insiderRoster",
            "insiderRosterDF",
            "insiderSummary",
            "insiderSummaryDF",
            "insiderTransactions",
            "insiderTransactionsDF",
            "institutionalMoney",
            "institutionalMoney",
            "institutionalMoneyDF",
            "institutionalOwnership",
            "institutionalOwnershipDF",
            "internationalExchanges",
            "internationalExchangesDF",
            "internationalSymbols",
            "internationalSymbolsDF",
            "internationalSymbolsList",
            "intraday",
            "intradayDF",
            "ipoToday",
            "ipoTodayDF",
            "ipoUpcoming",
            "ipoUpcomingDF",
            "iposWallStreetHorizon",
            "iposWallStreetHorizonDF",
            "isinLookup",
            "isinLookupDF",
            "jet",
            "jet",
            "jetDF",
            "kScoreChinaKavout",
            "kScoreChinaKavoutDF",
            "kScoreKavout",
            "kScoreKavoutDF",
            "kama",
            "keyStats",
            "keyStatsDF",
            "languageMetricsOnCompanyFilingsAllBrain",
            "languageMetricsOnCompanyFilingsAllBrainDF",
            "languageMetricsOnCompanyFilingsBrain",
            "languageMetricsOnCompanyFilingsBrainDF",
            "languageMetricsOnCompanyFilingsDifferenceAllBrain",
            "languageMetricsOnCompanyFilingsDifferenceAllBrainDF",
            "languageMetricsOnCompanyFilingsDifferenceBrain",
            "languageMetricsOnCompanyFilingsDifferenceBrainDF",
            "largestTrades",
            "largestTradesDF",
            "lastWS",
            "latestFX",
            "latestFXDF",
            "legalActionsWallStreetHorizon",
            "legalActionsWallStreetHorizonDF",
            "linearreg",
            "linearreg_angle",
            "linearreg_intercept",
            "linearreg_slope",
            "list",
            "listDF",
            "ln",
            "log10",
            "logo",
            "logoNotebook",
            "logoPNG",
            "lookup",
            "macd",
            "macdext",
            "mama",
            "marketNews",
            "marketNewsDF",
            "marketOhlc",
            "marketOhlcDF",
            "marketPrevious",
            "marketPreviousDF",
            "marketShortInterest",
            "marketShortInterestDF",
            "marketVolume",
            "marketVolumeDF",
            "marketYesterday",
            "marketYesterdayDF",
            "markets",
            "marketsDF",
            "mavp",
            "max",
            "maxindex",
            "medprice",
            "mergersAndAcquisitionsWallStreetHorizon",
            "mergersAndAcquisitionsWallStreetHorizonDF",
            "messageBudget",
            "messageBudgetAsync",
            "metadata",
            "metadataAsync",
            "metadataDF",
            "mfi",
            "midpice",
            "midpoint",
            "min",
            "minindex",
            "minmax",
            "minmaxindex",
            "minus_di",
            "minus_dm",
            "mom",
            "mult",
            "mutualFundSymbols",
            "mutualFundSymbolsDF",
            "mutualFundSymbolsList",
            "natgas",
            "natgasDF",
            "natr",
            "newconstructs",
            "news",
            "newsDF",
            "newsSSE",
            "newsSSEAsync",
            "newsCityFalcon",
            "newsCityFalconDF",
            "nextDayExtDate",
            "nextDayExtDateDF",
            "nonTimelyFilingsFraudFactors",
            "nonTimelyFilingsFraudFactorsDF",
            "obv",
            "officialPriceWS",
            "ohlc",
            "ohlcDF",
            "oneMonth",
            "oneMonthDF",
            "oneYear",
            "oneYearDF",
            "opHaltStatusWS",
            "optionExpirations",
            "options",
            "optionsDF",
            "optionsSymbols",
            "optionsSymbolsDF",
            "optionsSymbolsList",
            "otcSymbols",
            "otcSymbolsDF",
            "otcSymbolsList",
            "overrideUrl",
            "pause",
            "payAsYouGo",
            "payAsYouGoAsync",
            "payroll",
            "payrollDF",
            "pcu",
            "peerCorrelation",
            "peerCorrelationPlot",
            "peers",
            "peersDF",
            "plus_di",
            "plus_dm",
            "points",
            "pointsDF",
            "ppo",
            "precisionalpha",
            "premium",
            "previous",
            "previousDF",
            "price",
            "priceDF",
            "priceDynamicsPrecisionAlpha",
            "priceDynamicsPrecisionAlphaDF",
            "priceTarget",
            "priceTargetDF",
            "priceTargetRefinitiv",
            "priceTargetRefinitivDF",
            "productEventsWallStreetHorizon",
            "productEventsWallStreetHorizonDF",
            "propane",
            "propaneDF",
            "queryMetadata",
            "queryMetadataDF",
            "quote",
            "quoteDF",
            "recent",
            "recentDF",
            "recessionProb",
            "recessionProbDF",
            "records",
            "recordsDF",
            "refDividends",
            "refDividendsDF",
            "relevant",
            "relevantDF",
            "reportNewConstructs",
            "researchAndDevelopmentDaysWallStreetHorizon",
            "researchAndDevelopmentDaysWallStreetHorizonDF",
            "resume",
            "retailMoney",
            "retailMoneyDF",
            "returnOfCapital",
            "returnOfCapitalDF",
            "returns",
            "ricLookup",
            "ricLookupDF",
            "rightToPurchase",
            "rightToPurchaseDF",
            "rightsIssue",
            "rightsIssueDF",
            "roc",
            "rocp",
            "rocr",
            "rocr100",
            "rsi",
            "ruleInfo",
            "ruleOutput",
            "rules",
            "sameStoreSalesWallStreetHorizon",
            "sameStoreSalesWallStreetHorizonDF",
            "sar",
            "sarext",
            "schema",
            "search",
            "searchDF",
            "secondaryOfferingsWallStreetHorizon",
            "secondaryOfferingsWallStreetHorizonDF",
            "sectorPerformance",
            "sectorPerformanceDF",
            "sectors",
            "sectorsDF",
            "securityEventWS",
            "securityReclassification",
            "securityReclassificationDF",
            "securitySwap",
            "securitySwapDF",
            "seminarsWallStreetHorizon",
            "seminarsWallStreetHorizonDF",
            "sentiment",
            "sentimentDF",
            "sentimentSSE",
            "sentimentSSEAsync",
            "setProxy",
            "sevenDaySentimentBrain",
            "sevenDaySentimentBrainDF",
            "sevenYear",
            "sevenYearDF",
            "shareholderMeetingsWallStreetHorizon",
            "shareholderMeetingsWallStreetHorizonDF",
            "shortInterest",
            "shortInterestDF",
            "similarityIndexFraudFactors",
            "similarityIndexFraudFactorsDF",
            "sin",
            "sinh",
            "sixMonth",
            "sixMonthDF",
            "sma",
            "socialSentimentStockTwits",
            "socialSentimentStockTwitsDF",
            "spinoff",
            "spinoffDF",
            "splits",
            "splitsDF",
            "splitsBasic",
            "splitsBasicDF",
            "spread",
            "spreadDF",
            "sqrt",
            "ssrStatusWS",
            "stats",
            "statsDF",
            "status",
            "statusAsync",
            "statusDF",
            "stddev",
            "stoch",
            "stochf",
            "stochrsi",
            "stockOptions",
            "stockOptionsDF",
            "stockResearchReportValuEngine",
            "stockOptions",
            "stockOptionsDF",
            "stocksUS1MinuteSSE",
            "stocksUS1MinuteSSEAsync",
            "stocksUS1SecondSSE",
            "stocksUS1SecondSSEAsync",
            "stocksUS5SecondSSE",
            "stocksUS5SecondSSEAsync",
            "stocksUSNoUTP1MinuteSSE",
            "stocksUSNoUTP1MinuteSSEAsync",
            "stocksUSNoUTP1SecondSSE",
            "stocksUSNoUTP1SecondSSEAsync",
            "stocksUSNoUTP5SecondSSE",
            "stocksUSNoUTP5SecondSSEAsync",
            "stocksUSNoUTPSSE",
            "stocksUSNoUTPSSEAsync",
            "stocksUSSSE",
            "stocksUSSSEAsync",
            "sub",
            "sum",
            "summary",
            "summaryDF",
            "summitMeetingsWallStreetHorizon",
            "summitMeetingsWallStreetHorizonDF",
            "symbols",
            "symbolsDF",
            "symbolsList",
            "systemEventWS",
            "t3",
            "tacticalModel1ExtractAlpha",
            "tacticalModel1ExtractAlphaDF",
            "tags",
            "tagsDF",
            "tan",
            "tanh",
            "technicals",
            "technicalsDF",
            "tema",
            "tenDayMLReturnRankingBrain",
            "tenDayMLReturnRankingBrainDF",
            "tenK",
            "tenQ",
            "tenYear",
            "tenYearDF",
            "thirtyDaySentimentBrain",
            "thirtyDaySentimentBrainDF",
            "thirtyYear",
            "thirtyYearDF",
            "threeDayMLReturnRankingBrain",
            "threeDayMLReturnRankingBrainDF",
            "threeMonth",
            "threeMonthDF",
            "threeYear",
            "threeYearDF",
            "timeSeries",
            "timeSeriesAsync",
            "timeSeriesDF",
            "timeSeriesInventory",
            "timeSeriesInventoryAsync",
            "timeSeriesInventoryDF",
            "timeseries",
            "topsWS",
            "tradeBreakWS",
            "tradeShowsWallStreetHorizon",
            "tradeShowsWallStreetHorizonDF",
            "tradesWS",
            "tradingStatusWS",
            "trange",
            "trima",
            "trix",
            "tsf",
            "twentyF",
            "twentyOneDayMLReturnRankingBrain",
            "twentyOneDayMLReturnRankingBrainDF",
            "twentyYear",
            "twentyYearDF",
            "twoDayMLReturnRankingBrain",
            "twoDayMLReturnRankingBrainDF",
            "twoYear",
            "twoYearDF",
            "typprice",
            "ultosc",
            "unemployment",
            "unemployment",
            "unemploymentDF",
            "upcomingDividends",
            "upcomingDividendsDF",
            "upcomingEarnings",
            "upcomingEarningsDF",
            "upcomingEvents",
            "upcomingEventsDF",
            "upcomingIPOs",
            "upcomingIPOsDF",
            "upcomingSplits",
            "upcomingSplitsDF",
            "us15",
            "us15DF",
            "us30",
            "us30DF",
            "us5",
            "us5DF",
            "usage",
            "usageAsync",
            "usageDF",
            "valuengine",
            "var",
            "vehicles",
            "vehiclesDF",
            "volumeByVenue",
            "volumeByVenueDF",
            "wallstreethorizon",
            "wclprice",
            "willr",
            "witchingHoursWallStreetHorizon",
            "witchingHoursWallStreetHorizonDF",
            "wma",
            "workshopsWallStreetHorizon",
            "workshopsWallStreetHorizonDF",
            "wraps",
            "wti",
            "wtiDF",
            "yesterday",
            "yesterdayDF",
            "yieldCurve",
        ):
            assert hasattr(p, apimethod)
            found.add(apimethod)

        assert all - found == set()
